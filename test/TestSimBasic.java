import org.junit.jupiter.api.TestMethodOrder;
import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

import java.util.List;

import org.junit.jupiter.api.*;

@TestMethodOrder(OrderAnnotation.class)
public class TestSimBasic {

	@Test
	@Order(1)
	public void testSimple() {
		String customerConfig  = "DDDDDDDD";	// 8 customers
		String customerPayment = "DCMDCMCM";	// mix payment methods
		String[][] foodStallConfig = {
				{"Bamboo Shop", "NDMSB"}
				,{"PigPan Deli", "NDMSB"}
				};
		
		CanteenICT canteen = new CanteenICT("basic1");
		canteen.setCustomers(customerConfig, customerPayment);
		canteen.setFoodStalls(foodStallConfig);
		canteen.setTables(2);		// having two tables
		
		
		/*
		 * <timer> <# customers waiting to enter> <# customers waiting in food stalls’ queues> 
		 *	<# customers waiting to be seated> <# of customers sitting at tables> 
		 *	<# done customers>
		 */
		
		
		int[][] expected = {
				{0,8,0,0,0,0},
				{1,7,1,0,0,0},
				{2,6,2,0,0,0},
				{3,5,3,0,0,0},
				{4,4,4,0,0,0},
				{5,3,5,0,0,0},
				{6,2,6,0,0,0},
				{7,1,7,0,0,0},
				{8,0,8,0,0,0},
				{9,0,8,0,0,0},
				{10,0,8,0,0,0},
				{11,0,8,0,0,0},
				{12,0,8,0,0,0},
				{13,0,8,0,0,0},
				{14,0,8,0,0,0},
				{15,0,8,0,0,0},
				{16,0,6,2,0,0},
				{17,0,6,1,1,0},
				{18,0,6,0,2,0},
				{19,0,6,0,2,0},
				{20,0,6,0,2,0},
				{21,0,6,0,2,0},
				{22,0,6,0,2,0},
				{23,0,6,0,2,0},
				{24,0,6,0,2,0},
				{25,0,6,0,2,0},
				{26,0,6,0,2,0},
				{27,0,6,0,2,0},
				{28,0,6,0,2,0},
				{29,0,5,1,2,0},
				{30,0,5,0,3,0},
				{31,0,4,1,3,0},
				{32,0,4,0,4,0},
				{33,0,4,0,4,0},
				{34,0,4,0,4,0},
				{35,0,4,0,4,0},
				{36,0,4,0,4,0},
				{37,0,4,0,4,0},
				{38,0,4,0,4,0},
				{39,0,4,0,4,0},
				{40,0,4,0,4,0},
				{41,0,4,0,4,0},
				{42,0,4,0,4,0},
				{43,0,3,1,4,0},
				{44,0,2,1,5,0},
				{45,0,2,0,6,0},
				{46,0,2,0,5,1},
				{47,0,2,0,4,2},
				{48,0,2,0,4,2},
				{49,0,2,0,4,2},
				{50,0,2,0,4,2},
				{51,0,2,0,4,2},
				{52,0,2,0,4,2},
				{53,0,2,0,4,2},
				{54,0,2,0,4,2},
				{55,0,2,0,4,2},
				{56,0,2,0,4,2},
				{57,0,0,2,4,2},
				{58,0,0,1,5,2},
				{59,0,0,0,5,3},
				{60,0,0,0,5,3},
				{61,0,0,0,4,4},
				{62,0,0,0,4,4},
				{63,0,0,0,4,4},
				{64,0,0,0,4,4},
				{65,0,0,0,4,4},
				{66,0,0,0,4,4},
				{67,0,0,0,4,4},
				{68,0,0,0,4,4},
				{69,0,0,0,4,4},
				{70,0,0,0,4,4},
				{71,0,0,0,4,4},
				{72,0,0,0,4,4},
				{73,0,0,0,3,5},
				{74,0,0,0,2,6},
				{75,0,0,0,2,6},
				{76,0,0,0,2,6},
				{77,0,0,0,2,6},
				{78,0,0,0,2,6},
				{79,0,0,0,2,6},
				{80,0,0,0,2,6},
				{81,0,0,0,2,6},
				{82,0,0,0,2,6},
				{83,0,0,0,2,6},
				{84,0,0,0,2,6},
				{85,0,0,0,2,6},
				{86,0,0,0,2,6},
				{87,0,0,0,1,7},
				{88,0,0,0,0,8},

		};

		// start simulation
		canteen.simulate();
		List<Integer[]> log = canteen.getLogState();
		
		// Testing value in each time step
		for(int i = 0; i < expected.length; i++) {
			assertEquals(expected[i][1], log.get(i)[1], 
					"T="+ i + ", waiting to enter queue");
			assertEquals(expected[i][2], log.get(i)[2], 
					"T="+ i + ", customer queue");
			assertEquals(expected[i][3], log.get(i)[3],
					"T="+ i + ", waiting to seat queue");
			assertEquals(expected[i][4], log.get(i)[4],
					"T="+ i + ", seated customer");
			assertEquals(expected[i][5], log.get(i)[5],
					"T="+ i + ", done queue");
		}

		assertTrue(canteen.isFinished(), "must be finished");
	}
	
	@Test
	@Order(2)
	public void testRelax() {
		String customerConfig  = "DDDDDDDDDDDDDDDDDDDDDDDDDDDDDD";	// 30 customers
		String customerPayment = "DDDDDDDDDDCCCCCCCCCCMMMMMMMMMM";	// Mix payment methods
		
		String[][] foodStallConfig = {
				{"Bamboo Shop", "NDMSB"}
				,{"PigPan Deli", "NDMSB"}
				,{"BlueMART Vending Machine", "NDMSB"}
				};
		
		CanteenICT canteen = new CanteenICT("basic2");
		
		canteen.setCustomers(customerConfig, customerPayment);
		canteen.setFoodStalls(foodStallConfig);
		canteen.setTables(3);	// having 3 tables
		
		
		/*
		 * <timer> <# customers waiting to enter> <# customers waiting in food stalls’ queues> 
		 *	<# customers waiting to be seated> <# of customers sitting at tables> 
		 *	<# done customers>
		 */
		
		
		int[][] expected = {
				{0,30,0,0,0,0},
				{1,29,1,0,0,0},
				{2,28,2,0,0,0},
				{3,27,3,0,0,0},
				{4,26,4,0,0,0},
				{5,25,5,0,0,0},
				{6,24,6,0,0,0},
				{7,23,7,0,0,0},
				{8,22,8,0,0,0},
				{9,21,9,0,0,0},
				{10,20,10,0,0,0},
				{11,19,11,0,0,0},
				{12,18,12,0,0,0},
				{13,17,13,0,0,0},
				{14,16,14,0,0,0},
				{15,15,15,0,0,0},
				{16,15,14,1,0,0},
				{17,14,14,1,1,0},
				{18,13,14,1,2,0},
				{19,12,15,0,3,0},
				{20,12,15,0,3,0},
				{21,12,15,0,3,0},
				{22,12,15,0,3,0},
				{23,12,15,0,3,0},
				{24,12,15,0,3,0},
				{25,12,15,0,3,0},
				{26,12,15,0,3,0},
				{27,12,15,0,3,0},
				{28,12,15,0,3,0},
				{29,12,15,0,3,0},
				{30,12,15,0,3,0},
				{31,12,14,1,3,0},
				{32,11,14,1,4,0},
				{33,10,14,1,5,0},
				{34,9,15,0,6,0},
				{35,9,15,0,6,0},
				{36,9,15,0,6,0},
				{37,9,15,0,6,0},
				{38,9,15,0,6,0},
				{39,9,15,0,6,0},
				{40,9,15,0,6,0},
				{41,9,15,0,6,0},
				{42,9,15,0,6,0},
				{43,9,15,0,6,0},
				{44,9,15,0,6,0},
				{45,9,15,0,6,0},
				{46,9,14,1,5,1},
				{47,8,14,1,5,2},
				{48,7,14,1,5,3},
				{49,6,15,0,6,3},
				{50,6,15,0,6,3},
				{51,6,15,0,6,3},
				{52,6,15,0,6,3},
				{53,6,15,0,6,3},
				{54,6,15,0,6,3},
				{55,6,15,0,6,3},
				{56,6,15,0,6,3},
				{57,6,15,0,6,3},
				{58,6,15,0,6,3},
				{59,6,15,0,6,3},
				{60,6,15,0,6,3},
				{61,6,13,2,5,4},
				{62,5,13,2,5,5},
				{63,4,14,1,5,6},
				{64,3,15,0,6,6},
				{65,3,15,0,6,6},
				{66,3,15,0,6,6},
				{67,3,15,0,6,6},
				{68,3,15,0,6,6},
				{69,3,15,0,6,6},
				{70,3,15,0,6,6},
				{71,3,15,0,6,6},
				{72,3,15,0,6,6},
				{73,3,15,0,6,6},
				{74,3,15,0,6,6},
				{75,3,13,2,6,6},
				{76,2,13,2,6,7},
				{77,1,14,1,6,8},
				{78,0,15,0,6,9},
				{79,0,15,0,6,9},
				{80,0,15,0,6,9},
				{81,0,15,0,6,9},
				{82,0,15,0,6,9},
				{83,0,15,0,6,9},
				{84,0,15,0,6,9},
				{85,0,15,0,6,9},
				{86,0,15,0,6,9},
				{87,0,15,0,6,9},
				{88,0,15,0,6,9},
				{89,0,13,2,6,9},
				{90,0,12,2,7,9},
				{91,0,12,1,7,10},
				{92,0,12,0,7,11},
				{93,0,12,0,6,12},
				{94,0,12,0,6,12},
				{95,0,12,0,6,12},
				{96,0,12,0,6,12},
				{97,0,12,0,6,12},
				{98,0,12,0,6,12},
				{99,0,12,0,6,12},
				{100,0,12,0,6,12},
				{101,0,12,0,6,12},
				{102,0,12,0,6,12},
				{103,0,9,3,6,12},
				{104,0,9,2,7,12},
				{105,0,9,1,7,13},
				{106,0,9,0,7,14},
				{107,0,9,0,6,15},
				{108,0,9,0,6,15},
				{109,0,9,0,6,15},
				{110,0,9,0,6,15},
				{111,0,9,0,6,15},
				{112,0,9,0,6,15},
				{113,0,9,0,6,15},
				{114,0,9,0,6,15},
				{115,0,9,0,6,15},
				{116,0,6,3,6,15},
				{117,0,6,2,7,15},
				{118,0,6,1,8,15},
				{119,0,6,0,8,16},
				{120,0,6,0,7,17},
				{121,0,6,0,6,18},
				{122,0,6,0,6,18},
				{123,0,6,0,6,18},
				{124,0,6,0,6,18},
				{125,0,6,0,6,18},
				{126,0,6,0,6,18},
				{127,0,6,0,6,18},
				{128,0,6,0,6,18},
				{129,0,3,3,6,18},
				{130,0,3,2,7,18},
				{131,0,3,1,8,18},
				{132,0,3,0,9,18},
				{133,0,3,0,8,19},
				{134,0,3,0,7,20},
				{135,0,3,0,6,21},
				{136,0,3,0,6,21},
				{137,0,3,0,6,21},
				{138,0,3,0,6,21},
				{139,0,3,0,6,21},
				{140,0,3,0,6,21},
				{141,0,3,0,6,21},
				{142,0,0,3,6,21},
				{143,0,0,2,7,21},
				{144,0,0,1,8,21},
				{145,0,0,0,9,21},
				{146,0,0,0,8,22},
				{147,0,0,0,7,23},
				{148,0,0,0,6,24},
				{149,0,0,0,6,24},
				{150,0,0,0,6,24},
				{151,0,0,0,6,24},
				{152,0,0,0,6,24},
				{153,0,0,0,6,24},
				{154,0,0,0,6,24},
				{155,0,0,0,6,24},
				{156,0,0,0,6,24},
				{157,0,0,0,6,24},
				{158,0,0,0,6,24},
				{159,0,0,0,5,25},
				{160,0,0,0,4,26},
				{161,0,0,0,3,27},
				{162,0,0,0,3,27},
				{163,0,0,0,3,27},
				{164,0,0,0,3,27},
				{165,0,0,0,3,27},
				{166,0,0,0,3,27},
				{167,0,0,0,3,27},
				{168,0,0,0,3,27},
				{169,0,0,0,3,27},
				{170,0,0,0,3,27},
				{171,0,0,0,3,27},
				{172,0,0,0,2,28},
				{173,0,0,0,1,29},
				{174,0,0,0,0,30},


		};

		// start simulation
		canteen.simulate();
		List<Integer[]> log = canteen.getLogState();
		
		// Testing value in each time step
		for(int i = 0; i < expected.length; i++) {
			assertEquals(expected[i][1], log.get(i)[1], 
					"T="+ i + ", waiting to enter queue");
			assertEquals(expected[i][2], log.get(i)[2], 
					"T="+ i + ", customer queue");
			assertEquals(expected[i][3], log.get(i)[3],
					"T="+ i + ", waiting to seat queue");
			assertEquals(expected[i][4], log.get(i)[4],
					"T="+ i + ", seated customer");
			assertEquals(expected[i][5], log.get(i)[5],
					"T="+ i + ", done queue");
		}

		assertTrue(canteen.isFinished(), "must be finished");
	}
	
	@Test
	@Order(3)
	public void testCongestion() {
		String customerConfig = 
				  "DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD"
				+ "DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD";	// 100 customers
		String customerPayment = 
				  "DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDCCCCCCCCCCCCCCCCCC"
				+ "MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMCCCCCCCCCCCCCCCCCC";
		String[][] foodStallConfig = {
				{"Bamboo Shop", "NDMSB"}
				,{"PigPan Deli", "NDMSB"}
				,{"MU Library Cafe", "NDMSB"}
				};
		
		CanteenICT canteen = new CanteenICT("basic3");
		
		canteen.setCustomers(customerConfig, customerPayment);
		canteen.setFoodStalls(foodStallConfig);
		canteen.setTables(1);	// having only 1 tables
		
		
		/*
		 * <timer> <# customers waiting to enter> <# customers waiting in food stalls’ queues> 
		 *	<# customers waiting to be seated> <# of customers sitting at tables> 
		 *	<# done customers>
		 */
		
		
		int[][] expected = {
				{0,100,0,0,0,0},
				{1,99,1,0,0,0},
				{2,98,2,0,0,0},
				{3,97,3,0,0,0},
				{4,96,4,0,0,0},
				{5,95,5,0,0,0},
				{6,94,6,0,0,0},
				{7,93,7,0,0,0},
				{8,92,8,0,0,0},
				{9,91,9,0,0,0},
				{10,90,10,0,0,0},
				{11,89,11,0,0,0},
				{12,88,12,0,0,0},
				{13,87,13,0,0,0},
				{14,86,14,0,0,0},
				{15,85,15,0,0,0},
				{16,85,14,1,0,0},
				{17,84,14,1,1,0},
				{18,83,14,1,2,0},
				{19,82,15,0,3,0},
				{20,82,15,0,3,0},
				{21,82,15,0,3,0},
				{22,82,15,0,3,0},
				{23,82,15,0,3,0},
				{24,82,15,0,3,0},
				{25,82,15,0,3,0},
				{26,82,15,0,3,0},
				{27,82,15,0,3,0},
				{28,82,15,0,3,0},
				{29,82,15,0,3,0},
				{30,82,15,0,3,0},
				{31,82,14,1,3,0},
				{32,81,14,1,4,0},
				{33,80,14,2,4,0},
				{34,79,15,2,4,0},
				{35,79,15,2,4,0},
				{36,79,15,2,4,0},
				{37,79,15,2,4,0},
				{38,79,15,2,4,0},
				{39,79,15,2,4,0},
				{40,79,15,2,4,0},
				{41,79,15,2,4,0},
				{42,79,15,2,4,0},
				{43,79,15,2,4,0},
				{44,79,15,2,4,0},
				{45,79,15,2,4,0},
				{46,79,14,3,3,1},
				{47,78,14,3,3,2},
				{48,77,14,3,3,3},
				{49,76,15,2,4,3},
				{50,76,15,2,4,3},
				{51,76,15,2,4,3},
				{52,76,15,2,4,3},
				{53,76,15,2,4,3},
				{54,76,15,2,4,3},
				{55,76,15,2,4,3},
				{56,76,15,2,4,3},
				{57,76,15,2,4,3},
				{58,76,15,2,4,3},
				{59,76,15,2,4,3},
				{60,76,15,2,4,3},
				{61,76,14,3,3,4},
				{62,75,14,3,4,4},
				{63,74,14,4,4,4},
				{64,73,15,4,4,4},
				{65,73,15,4,4,4},
				{66,73,15,4,4,4},
				{67,73,15,4,4,4},
				{68,73,15,4,4,4},
				{69,73,15,4,4,4},
				{70,73,15,4,4,4},
				{71,73,15,4,4,4},
				{72,73,15,4,4,4},
				{73,73,15,4,4,4},
				{74,73,15,4,4,4},
				{75,73,15,4,4,4},
				{76,73,14,5,3,5},
				{77,72,14,5,3,6},
				{78,71,14,5,3,7},
				{79,70,15,4,4,7},
				{80,70,15,4,4,7},
				{81,70,15,4,4,7},
				{82,70,15,4,4,7},
				{83,70,15,4,4,7},
				{84,70,15,4,4,7},
				{85,70,15,4,4,7},
				{86,70,15,4,4,7},
				{87,70,15,4,4,7},
				{88,70,15,4,4,7},
				{89,70,15,4,4,7},
				{90,70,15,4,4,7},
				{91,70,14,5,3,8},
				{92,69,14,5,4,8},
				{93,68,14,6,4,8},
				{94,67,15,6,4,8},
				{95,67,15,6,4,8},
				{96,67,15,6,4,8},
				{97,67,15,6,4,8},
				{98,67,15,6,4,8},
				{99,67,15,6,4,8},
				{100,67,15,6,4,8},
				{101,67,15,6,4,8},
				{102,67,15,6,4,8},
				{103,67,15,6,4,8},
				{104,67,15,6,4,8},
				{105,67,15,6,4,8},
				{106,67,14,7,3,9},
				{107,66,14,7,3,10},
				{108,65,14,7,3,11},
				{109,64,15,6,4,11},
				{110,64,15,6,4,11},
				{111,64,15,6,4,11},
				{112,64,15,6,4,11},
				{113,64,15,6,4,11},
				{114,64,15,6,4,11},
				{115,64,15,6,4,11},
				{116,64,15,6,4,11},
				{117,64,15,6,4,11},
				{118,64,15,6,4,11},
				{119,64,15,6,4,11},
				{120,64,15,6,4,11},
				{121,64,14,7,3,12},
				{122,63,14,7,4,12},
				{123,62,14,8,4,12},
				{124,61,15,8,4,12},
				{125,61,15,8,4,12},
				{126,61,15,8,4,12},
				{127,61,15,8,4,12},
				{128,61,15,8,4,12},
				{129,61,15,8,4,12},
				{130,61,15,8,4,12},
				{131,61,15,8,4,12},
				{132,61,15,8,4,12},
				{133,61,15,8,4,12},
				{134,61,15,8,4,12},
				{135,61,15,8,4,12},
				{136,61,14,9,3,13},
				{137,60,14,9,3,14},
				{138,59,14,9,3,15},
				{139,58,15,8,4,15},
				{140,58,15,8,4,15},
				{141,58,15,8,4,15},
				{142,58,15,8,4,15},
				{143,58,15,8,4,15},
				{144,58,15,8,4,15},
				{145,58,15,8,4,15},
				{146,58,15,8,4,15},
				{147,58,15,8,4,15},
				{148,58,15,8,4,15},
				{149,58,15,8,4,15},
				{150,58,15,8,4,15},
				{151,58,14,9,3,16},
				{152,57,14,9,4,16},
				{153,56,14,10,4,16},
				{154,55,15,10,4,16},
				{155,55,15,10,4,16},
				{156,55,15,10,4,16},
				{157,55,15,10,4,16},
				{158,55,15,10,4,16},
				{159,55,15,10,4,16},
				{160,55,15,10,4,16},
				{161,55,15,10,4,16},
				{162,55,15,10,4,16},
				{163,55,15,10,4,16},
				{164,55,15,10,4,16},
				{165,55,15,10,4,16},
				{166,55,14,11,3,17},
				{167,54,13,12,3,18},
				{168,53,14,11,3,19},
				{169,52,15,10,4,19},
				{170,52,15,10,4,19},
				{171,52,15,10,4,19},
				{172,52,15,10,4,19},
				{173,52,15,10,4,19},
				{174,52,15,10,4,19},
				{175,52,15,10,4,19},
				{176,52,15,10,4,19},
				{177,52,15,10,4,19},
				{178,52,15,10,4,19},
				{179,52,15,10,4,19},
				{180,52,14,11,4,19},
				{181,51,13,13,3,20},
				{182,50,14,12,4,20},
				{183,49,15,12,4,20},
				{184,49,15,12,4,20},
				{185,49,15,12,4,20},
				{186,49,15,12,4,20},
				{187,49,15,12,4,20},
				{188,49,15,12,4,20},
				{189,49,15,12,4,20},
				{190,49,15,12,4,20},
				{191,49,15,12,4,20},
				{192,49,15,12,4,20},
				{193,49,15,12,4,20},
				{194,49,14,13,4,20},
				{195,48,13,15,4,20},
				{196,47,14,15,3,21},
				{197,46,15,14,3,22},
				{198,46,15,13,3,23},
				{199,46,15,12,4,23},
				{200,46,15,12,4,23},
				{201,46,15,12,4,23},
				{202,46,15,12,4,23},
				{203,46,15,12,4,23},
				{204,46,15,12,4,23},
				{205,46,15,12,4,23},
				{206,46,15,12,4,23},
				{207,46,15,12,4,23},
				{208,46,14,13,4,23},
				{209,45,13,15,4,23},
				{210,44,14,15,4,23},
				{211,43,15,15,3,24},
				{212,43,15,14,4,24},
				{213,43,15,14,4,24},
				{214,43,15,14,4,24},
				{215,43,15,14,4,24},
				{216,43,15,14,4,24},
				{217,43,15,14,4,24},
				{218,43,15,14,4,24},
				{219,43,15,14,4,24},
				{220,43,15,14,4,24},
				{221,43,15,14,4,24},
				{222,43,14,15,4,24},
				{223,42,13,17,4,24},
				{224,41,14,17,4,24},
				{225,40,15,17,4,24},
				{226,40,15,17,3,25},
				{227,40,15,16,3,26},
				{228,40,15,15,3,27},
				{229,40,15,14,4,27},
				{230,40,15,14,4,27},
				{231,40,15,14,4,27},
				{232,40,15,14,4,27},
				{233,40,15,14,4,27},
				{234,40,15,14,4,27},
				{235,40,15,14,4,27},
				{236,40,14,15,4,27},
				{237,39,13,17,4,27},
				{238,38,14,17,4,27},
				{239,37,15,17,4,27},
				{240,37,15,17,4,27},
				{241,37,15,17,3,28},
				{242,37,15,16,4,28},
				{243,37,15,16,4,28},
				{244,37,15,16,4,28},
				{245,37,15,16,4,28},
				{246,37,15,16,4,28},
				{247,37,15,16,4,28},
				{248,37,15,16,4,28},
				{249,37,15,16,4,28},
				{250,37,13,18,4,28},
				{251,36,13,19,4,28},
				{252,35,14,19,4,28},
				{253,34,15,19,4,28},
				{254,34,15,19,4,28},
				{255,34,15,19,4,28},
				{256,34,15,19,3,29},
				{257,34,15,18,3,30},
				{258,34,15,17,3,31},
				{259,34,15,16,4,31},
				{260,34,15,16,4,31},
				{261,34,15,16,4,31},
				{262,34,15,16,4,31},
				{263,34,13,18,4,31},
				{264,33,13,19,4,31},
				{265,32,14,19,4,31},
				{266,31,15,19,4,31},
				{267,31,15,19,4,31},
				{268,31,15,19,4,31},
				{269,31,15,19,4,31},
				{270,31,15,19,4,31},
				{271,31,15,19,3,32},
				{272,31,15,18,4,32},
				{273,31,15,18,4,32},
				{274,31,15,18,4,32},
				{275,31,15,18,4,32},
				{276,31,13,20,4,32},
				{277,30,13,21,4,32},
				{278,29,14,21,4,32},
				{279,28,15,21,4,32},
				{280,28,15,21,4,32},
				{281,28,15,21,4,32},
				{282,28,15,21,4,32},
				{283,28,15,21,4,32},
				{284,28,15,21,4,32},
				{285,28,15,21,4,32},
				{286,28,15,21,3,33},
				{287,28,15,20,3,34},
				{288,28,15,19,3,35},
				{289,28,13,20,4,35},
				{290,27,13,21,4,35},
				{291,26,14,21,4,35},
				{292,25,15,21,4,35},
				{293,25,15,21,4,35},
				{294,25,15,21,4,35},
				{295,25,15,21,4,35},
				{296,25,15,21,4,35},
				{297,25,15,21,4,35},
				{298,25,15,21,4,35},
				{299,25,15,21,4,35},
				{300,25,15,21,4,35},
				{301,25,15,21,3,36},
				{302,25,13,22,4,36},
				{303,24,13,23,4,36},
				{304,23,14,23,4,36},
				{305,22,15,23,4,36},
				{306,22,15,23,4,36},
				{307,22,15,23,4,36},
				{308,22,15,23,4,36},
				{309,22,15,23,4,36},
				{310,22,15,23,4,36},
				{311,22,15,23,4,36},
				{312,22,15,23,4,36},
				{313,22,15,23,4,36},
				{314,22,15,23,4,36},
				{315,22,13,25,4,36},
				{316,21,13,26,3,37},
				{317,20,14,25,3,38},
				{318,19,15,24,3,39},
				{319,19,15,23,4,39},
				{320,19,15,23,4,39},
				{321,19,15,23,4,39},
				{322,19,15,23,4,39},
				{323,19,15,23,4,39},
				{324,19,15,23,4,39},
				{325,19,15,23,4,39},
				{326,19,15,23,4,39},
				{327,19,15,23,4,39},
				{328,19,13,25,4,39},
				{329,18,13,26,4,39},
				{330,17,14,26,4,39},
				{331,16,15,26,3,40},
				{332,16,15,25,4,40},
				{333,16,15,25,4,40},
				{334,16,15,25,4,40},
				{335,16,15,25,4,40},
				{336,16,15,25,4,40},
				{337,16,15,25,4,40},
				{338,16,15,25,4,40},
				{339,16,15,25,4,40},
				{340,16,15,25,4,40},
				{341,16,13,27,4,40},
				{342,15,13,28,4,40},
				{343,14,14,28,4,40},
				{344,13,15,28,4,40},
				{345,13,15,28,4,40},
				{346,13,15,28,3,41},
				{347,13,15,27,3,42},
				{348,13,15,26,3,43},
				{349,13,15,25,4,43},
				{350,13,15,25,4,43},
				{351,13,15,25,4,43},
				{352,13,15,25,4,43},
				{353,13,15,25,4,43},
				{354,13,13,27,4,43},
				{355,12,13,28,4,43},
				{356,11,14,28,4,43},
				{357,10,15,28,4,43},
				{358,10,15,28,4,43},
				{359,10,15,28,4,43},
				{360,10,15,28,4,43},
				{361,10,15,28,3,44},
				{362,10,15,27,4,44},
				{363,10,15,27,4,44},
				{364,10,15,27,4,44},
				{365,10,15,27,4,44},
				{366,10,15,27,4,44},
				{367,10,13,29,4,44},
				{368,9,13,30,4,44},
				{369,8,14,30,4,44},
				{370,7,15,30,4,44},
				{371,7,15,30,4,44},
				{372,7,15,30,4,44},
				{373,7,15,30,4,44},
				{374,7,15,30,4,44},
				{375,7,15,30,4,44},
				{376,7,15,30,3,45},
				{377,7,15,29,3,46},
				{378,7,15,28,3,47},
				{379,7,15,27,4,47},
				{380,7,13,29,4,47},
				{381,6,13,30,4,47},
				{382,5,14,30,4,47},
				{383,4,15,30,4,47},
				{384,4,15,30,4,47},
				{385,4,15,30,4,47},
				{386,4,15,30,4,47},
				{387,4,15,30,4,47},
				{388,4,15,30,4,47},
				{389,4,15,30,4,47},
				{390,4,15,30,4,47},
				{391,4,15,30,3,48},
				{392,4,15,29,4,48},
				{393,4,14,30,4,48},
				{394,3,14,31,4,48},
				{395,2,14,32,4,48},
				{396,1,15,32,4,48},
				{397,1,15,32,4,48},
				{398,1,15,32,4,48},
				{399,1,15,32,4,48},
				{400,1,15,32,4,48},
				{401,1,15,32,4,48},
				{402,1,15,32,4,48},
				{403,1,15,32,4,48},
				{404,1,15,32,4,48},
				{405,1,15,32,4,48},
				{406,1,15,32,3,49},
				{407,1,14,32,3,50},
				{408,0,14,32,3,51},
				{409,0,13,32,4,51},
				{410,0,13,32,4,51},
				{411,0,13,32,4,51},
				{412,0,13,32,4,51},
				{413,0,13,32,4,51},
				{414,0,13,32,4,51},
				{415,0,13,32,4,51},
				{416,0,13,32,4,51},
				{417,0,13,32,4,51},
				{418,0,13,32,4,51},
				{419,0,13,32,4,51},
				{420,0,13,32,4,51},
				{421,0,12,33,3,52},
				{422,0,11,33,4,52},
				{423,0,10,34,4,52},
				{424,0,10,34,4,52},
				{425,0,10,34,4,52},
				{426,0,10,34,4,52},
				{427,0,10,34,4,52},
				{428,0,10,34,4,52},
				{429,0,10,34,4,52},
				{430,0,10,34,4,52},
				{431,0,10,34,4,52},
				{432,0,10,34,4,52},
				{433,0,10,34,4,52},
				{434,0,10,34,4,52},
				{435,0,9,35,4,52},
				{436,0,8,36,3,53},
				{437,0,7,36,3,54},
				{438,0,7,35,3,55},
				{439,0,7,34,4,55},
				{440,0,7,34,4,55},
				{441,0,7,34,4,55},
				{442,0,7,34,4,55},
				{443,0,7,34,4,55},
				{444,0,7,34,4,55},
				{445,0,7,34,4,55},
				{446,0,7,34,4,55},
				{447,0,7,34,4,55},
				{448,0,7,34,4,55},
				{449,0,6,35,4,55},
				{450,0,5,36,4,55},
				{451,0,4,37,3,56},
				{452,0,4,36,4,56},
				{453,0,4,36,4,56},
				{454,0,4,36,4,56},
				{455,0,4,36,4,56},
				{456,0,4,36,4,56},
				{457,0,4,36,4,56},
				{458,0,4,36,4,56},
				{459,0,4,36,4,56},
				{460,0,4,36,4,56},
				{461,0,4,36,4,56},
				{462,0,4,36,4,56},
				{463,0,3,37,4,56},
				{464,0,2,38,4,56},
				{465,0,1,39,4,56},
				{466,0,1,39,3,57},
				{467,0,1,38,3,58},
				{468,0,1,37,3,59},
				{469,0,1,36,4,59},
				{470,0,1,36,4,59},
				{471,0,1,36,4,59},
				{472,0,1,36,4,59},
				{473,0,1,36,4,59},
				{474,0,1,36,4,59},
				{475,0,1,36,4,59},
				{476,0,1,36,4,59},
				{477,0,0,37,4,59},
				{478,0,0,37,4,59},
				{479,0,0,37,4,59},
				{480,0,0,37,4,59},
				{481,0,0,37,3,60},
				{482,0,0,36,4,60},
				{483,0,0,36,4,60},
				{484,0,0,36,4,60},
				{485,0,0,36,4,60},
				{486,0,0,36,4,60},
				{487,0,0,36,4,60},
				{488,0,0,36,4,60},
				{489,0,0,36,4,60},
				{490,0,0,36,4,60},
				{491,0,0,36,4,60},
				{492,0,0,36,4,60},
				{493,0,0,36,4,60},
				{494,0,0,36,4,60},
				{495,0,0,36,4,60},
				{496,0,0,36,3,61},
				{497,0,0,35,3,62},
				{498,0,0,34,3,63},
				{499,0,0,33,4,63},
				{500,0,0,33,4,63},
				{501,0,0,33,4,63},
				{502,0,0,33,4,63},
				{503,0,0,33,4,63},
				{504,0,0,33,4,63},
				{505,0,0,33,4,63},
				{506,0,0,33,4,63},
				{507,0,0,33,4,63},
				{508,0,0,33,4,63},
				{509,0,0,33,4,63},
				{510,0,0,33,4,63},
				{511,0,0,33,3,64},
				{512,0,0,32,4,64},
				{513,0,0,32,4,64},
				{514,0,0,32,4,64},
				{515,0,0,32,4,64},
				{516,0,0,32,4,64},
				{517,0,0,32,4,64},
				{518,0,0,32,4,64},
				{519,0,0,32,4,64},
				{520,0,0,32,4,64},
				{521,0,0,32,4,64},
				{522,0,0,32,4,64},
				{523,0,0,32,4,64},
				{524,0,0,32,4,64},
				{525,0,0,32,4,64},
				{526,0,0,32,3,65},
				{527,0,0,31,3,66},
				{528,0,0,30,3,67},
				{529,0,0,29,4,67},
				{530,0,0,29,4,67},
				{531,0,0,29,4,67},
				{532,0,0,29,4,67},
				{533,0,0,29,4,67},
				{534,0,0,29,4,67},
				{535,0,0,29,4,67},
				{536,0,0,29,4,67},
				{537,0,0,29,4,67},
				{538,0,0,29,4,67},
				{539,0,0,29,4,67},
				{540,0,0,29,4,67},
				{541,0,0,29,3,68},
				{542,0,0,28,4,68},
				{543,0,0,28,4,68},
				{544,0,0,28,4,68},
				{545,0,0,28,4,68},
				{546,0,0,28,4,68},
				{547,0,0,28,4,68},
				{548,0,0,28,4,68},
				{549,0,0,28,4,68},
				{550,0,0,28,4,68},
				{551,0,0,28,4,68},
				{552,0,0,28,4,68},
				{553,0,0,28,4,68},
				{554,0,0,28,4,68},
				{555,0,0,28,4,68},
				{556,0,0,28,3,69},
				{557,0,0,27,3,70},
				{558,0,0,26,3,71},
				{559,0,0,25,4,71},
				{560,0,0,25,4,71},
				{561,0,0,25,4,71},
				{562,0,0,25,4,71},
				{563,0,0,25,4,71},
				{564,0,0,25,4,71},
				{565,0,0,25,4,71},
				{566,0,0,25,4,71},
				{567,0,0,25,4,71},
				{568,0,0,25,4,71},
				{569,0,0,25,4,71},
				{570,0,0,25,4,71},
				{571,0,0,25,3,72},
				{572,0,0,24,4,72},
				{573,0,0,24,4,72},
				{574,0,0,24,4,72},
				{575,0,0,24,4,72},
				{576,0,0,24,4,72},
				{577,0,0,24,4,72},
				{578,0,0,24,4,72},
				{579,0,0,24,4,72},
				{580,0,0,24,4,72},
				{581,0,0,24,4,72},
				{582,0,0,24,4,72},
				{583,0,0,24,4,72},
				{584,0,0,24,4,72},
				{585,0,0,24,4,72},
				{586,0,0,24,3,73},
				{587,0,0,23,3,74},
				{588,0,0,22,3,75},
				{589,0,0,21,4,75},
				{590,0,0,21,4,75},
				{591,0,0,21,4,75},
				{592,0,0,21,4,75},
				{593,0,0,21,4,75},
				{594,0,0,21,4,75},
				{595,0,0,21,4,75},
				{596,0,0,21,4,75},
				{597,0,0,21,4,75},
				{598,0,0,21,4,75},
				{599,0,0,21,4,75},
				{600,0,0,21,4,75},
				{601,0,0,21,3,76},
				{602,0,0,20,4,76},
				{603,0,0,20,4,76},
				{604,0,0,20,4,76},
				{605,0,0,20,4,76},
				{606,0,0,20,4,76},
				{607,0,0,20,4,76},
				{608,0,0,20,4,76},
				{609,0,0,20,4,76},
				{610,0,0,20,4,76},
				{611,0,0,20,4,76},
				{612,0,0,20,4,76},
				{613,0,0,20,4,76},
				{614,0,0,20,4,76},
				{615,0,0,20,4,76},
				{616,0,0,20,3,77},
				{617,0,0,19,3,78},
				{618,0,0,18,3,79},
				{619,0,0,17,4,79},
				{620,0,0,17,4,79},
				{621,0,0,17,4,79},
				{622,0,0,17,4,79},
				{623,0,0,17,4,79},
				{624,0,0,17,4,79},
				{625,0,0,17,4,79},
				{626,0,0,17,4,79},
				{627,0,0,17,4,79},
				{628,0,0,17,4,79},
				{629,0,0,17,4,79},
				{630,0,0,17,4,79},
				{631,0,0,17,3,80},
				{632,0,0,16,4,80},
				{633,0,0,16,4,80},
				{634,0,0,16,4,80},
				{635,0,0,16,4,80},
				{636,0,0,16,4,80},
				{637,0,0,16,4,80},
				{638,0,0,16,4,80},
				{639,0,0,16,4,80},
				{640,0,0,16,4,80},
				{641,0,0,16,4,80},
				{642,0,0,16,4,80},
				{643,0,0,16,4,80},
				{644,0,0,16,4,80},
				{645,0,0,16,4,80},
				{646,0,0,16,3,81},
				{647,0,0,15,3,82},
				{648,0,0,14,3,83},
				{649,0,0,13,4,83},
				{650,0,0,13,4,83},
				{651,0,0,13,4,83},
				{652,0,0,13,4,83},
				{653,0,0,13,4,83},
				{654,0,0,13,4,83},
				{655,0,0,13,4,83},
				{656,0,0,13,4,83},
				{657,0,0,13,4,83},
				{658,0,0,13,4,83},
				{659,0,0,13,4,83},
				{660,0,0,13,4,83},
				{661,0,0,13,3,84},
				{662,0,0,12,4,84},
				{663,0,0,12,4,84},
				{664,0,0,12,4,84},
				{665,0,0,12,4,84},
				{666,0,0,12,4,84},
				{667,0,0,12,4,84},
				{668,0,0,12,4,84},
				{669,0,0,12,4,84},
				{670,0,0,12,4,84},
				{671,0,0,12,4,84},
				{672,0,0,12,4,84},
				{673,0,0,12,4,84},
				{674,0,0,12,4,84},
				{675,0,0,12,4,84},
				{676,0,0,12,3,85},
				{677,0,0,11,3,86},
				{678,0,0,10,3,87},
				{679,0,0,9,4,87},
				{680,0,0,9,4,87},
				{681,0,0,9,4,87},
				{682,0,0,9,4,87},
				{683,0,0,9,4,87},
				{684,0,0,9,4,87},
				{685,0,0,9,4,87},
				{686,0,0,9,4,87},
				{687,0,0,9,4,87},
				{688,0,0,9,4,87},
				{689,0,0,9,4,87},
				{690,0,0,9,4,87},
				{691,0,0,9,3,88},
				{692,0,0,8,4,88},
				{693,0,0,8,4,88},
				{694,0,0,8,4,88},
				{695,0,0,8,4,88},
				{696,0,0,8,4,88},
				{697,0,0,8,4,88},
				{698,0,0,8,4,88},
				{699,0,0,8,4,88},
				{700,0,0,8,4,88},
				{701,0,0,8,4,88},
				{702,0,0,8,4,88},
				{703,0,0,8,4,88},
				{704,0,0,8,4,88},
				{705,0,0,8,4,88},
				{706,0,0,8,3,89},
				{707,0,0,7,3,90},
				{708,0,0,6,3,91},
				{709,0,0,5,4,91},
				{710,0,0,5,4,91},
				{711,0,0,5,4,91},
				{712,0,0,5,4,91},
				{713,0,0,5,4,91},
				{714,0,0,5,4,91},
				{715,0,0,5,4,91},
				{716,0,0,5,4,91},
				{717,0,0,5,4,91},
				{718,0,0,5,4,91},
				{719,0,0,5,4,91},
				{720,0,0,5,4,91},
				{721,0,0,5,3,92},
				{722,0,0,4,4,92},
				{723,0,0,4,4,92},
				{724,0,0,4,4,92},
				{725,0,0,4,4,92},
				{726,0,0,4,4,92},
				{727,0,0,4,4,92},
				{728,0,0,4,4,92},
				{729,0,0,4,4,92},
				{730,0,0,4,4,92},
				{731,0,0,4,4,92},
				{732,0,0,4,4,92},
				{733,0,0,4,4,92},
				{734,0,0,4,4,92},
				{735,0,0,4,4,92},
				{736,0,0,4,3,93},
				{737,0,0,3,3,94},
				{738,0,0,2,3,95},
				{739,0,0,1,4,95},
				{740,0,0,1,4,95},
				{741,0,0,1,4,95},
				{742,0,0,1,4,95},
				{743,0,0,1,4,95},
				{744,0,0,1,4,95},
				{745,0,0,1,4,95},
				{746,0,0,1,4,95},
				{747,0,0,1,4,95},
				{748,0,0,1,4,95},
				{749,0,0,1,4,95},
				{750,0,0,1,4,95},
				{751,0,0,1,3,96},
				{752,0,0,0,4,96},
				{753,0,0,0,4,96},
				{754,0,0,0,4,96},
				{755,0,0,0,4,96},
				{756,0,0,0,4,96},
				{757,0,0,0,4,96},
				{758,0,0,0,4,96},
				{759,0,0,0,4,96},
				{760,0,0,0,4,96},
				{761,0,0,0,4,96},
				{762,0,0,0,4,96},
				{763,0,0,0,4,96},
				{764,0,0,0,4,96},
				{765,0,0,0,4,96},
				{766,0,0,0,3,97},
				{767,0,0,0,2,98},
				{768,0,0,0,1,99},
				{769,0,0,0,1,99},
				{770,0,0,0,1,99},
				{771,0,0,0,1,99},
				{772,0,0,0,1,99},
				{773,0,0,0,1,99},
				{774,0,0,0,1,99},
				{775,0,0,0,1,99},
				{776,0,0,0,1,99},
				{777,0,0,0,1,99},
				{778,0,0,0,1,99},
				{779,0,0,0,1,99},
				{780,0,0,0,1,99},
				{781,0,0,0,0,100},

		};

		// start simulation
		canteen.simulate();
		List<Integer[]> log = canteen.getLogState();
		
		// Testing value in each time step
		for(int i = 0; i < expected.length; i++) {
			assertEquals(expected[i][1], log.get(i)[1], 
					"T="+ i + ", waiting to enter queue");
			assertEquals(expected[i][2], log.get(i)[2], 
					"T="+ i + ", customer queue");
			assertEquals(expected[i][3], log.get(i)[3],
					"T="+ i + ", waiting to seat queue");
			assertEquals(expected[i][4], log.get(i)[4],
					"T="+ i + ", seated customer");
			assertEquals(expected[i][5], log.get(i)[5],
					"T="+ i + ", done queue");
		}

		assertTrue(canteen.isFinished(), "must be finished");
	}
}
